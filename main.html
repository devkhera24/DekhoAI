<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dekho AI</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Outfit', sans-serif;
      background: linear-gradient(135deg, #0f0f0f, #1a1a2e, #16213e);
      color: white;
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 25px;
      background: rgba(20, 20, 35, 0.6);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.08);
    }

    .logo {
      font-size: 1.8em;
      font-weight: 700;
      background: linear-gradient(90deg, #9f7aea, #7f5af0, #00e0ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: glow 3s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 5px #9f7aea; }
      to { text-shadow: 0 0 15px #7f5af0; }
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 20px;
      margin: 0;
      padding: 0;
    }

    nav ul li a {
      color: #ddd;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
    }

    nav ul li a:hover {
      color: #9f7aea;
    }

    /* Sidebar styles */
    .sidebar {
      position: fixed;
      top: 0;
      left: -260px;
      width: 260px;
      height: 100%;
      background: rgba(20,20,35,0.95);
      backdrop-filter: blur(10px);
      padding: 20px;
      transition: left 0.3s ease;
      z-index: 1000;
    }
    .sidebar.active { left: 0; }

    .sidebar h2 {
      margin: 0 0 20px;
      font-size: 1.4em;
      color: #9f7aea;
    }

    .sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .sidebar ul li {
      margin-bottom: 15px;
    }
    .sidebar ul li a {
      color: #ddd;
      text-decoration: none;
      font-size: 1.1em;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: color 0.3s;
    }
    .sidebar ul li a:hover {
      color: #00e0ff;
    }

    .menu-btn {
      font-size: 1.6em;
      cursor: pointer;
      color: white;
      background: none;
      border: none;
    }

    .container {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      transition: margin-left 0.3s ease;
    }
    .shifted { margin-left: 260px; }

    .card {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(15px);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.4);
      max-width: 800px;
      width: 100%;
      text-align: center;
      transition: transform 0.3s;
    }

    .card:hover { transform: translateY(-4px); }

    h2 {
      margin-bottom: 20px;
      font-weight: 600;
      color: #e0e0ff;
    }

    textarea {
      width: 100%;
      height: 100px;
      border-radius: 12px;
      border: none;
      padding: 12px;
      font-size: 1em;
      margin-bottom: 20px;
      resize: none;
      background: rgba(255,255,255,0.1);
      color: white;
      outline: none;
      box-shadow: inset 0 0 8px rgba(0,0,0,0.3);
    }
    textarea::placeholder { color: #aaa; }

    .controls {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 12px;
      margin-bottom: 20px;
    }

    .controls input, .controls select {
      padding: 10px;
      border-radius: 10px;
      border: none;
      font-size: 0.9em;
      background: hsl(0, 100%, 93%);
      color: black;
      outline: none;
    }

    .generate-btn {
      background: linear-gradient(90deg, #9f7aea, #7f5af0, #00e0ff);
      border: none;
      padding: 14px 25px;
      border-radius: 12px;
      color: white;
      font-size: 1.05em;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(159,122,234,0.4);
      transition: transform 0.2s, box-shadow 0.3s;
      width: 100%;
      gap: 10px;
    }
    .generate-btn:hover {
      transform: scale(1.03);
      box-shadow: 0 6px 20px rgba(159,122,234,0.6);
    }
    .generate-btn:disabled { opacity: 0.6; cursor: not-allowed; }


    .image-display {
      margin-top: 20px;
      min-height: 350px;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 18px;
      padding: 12px;
      flex-direction: column;
      gap: 10px;
    }

    .image-display img {
      max-width: 100%;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.5);
    }

    .download-btn {
      margin-top: 10px;
      padding: 8px 18px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background: #00e0ff;
      color: #111;
      font-weight: 600;
      transition: background 0.3s;
    }
    .download-btn:hover { background: #7f5af0; color: #fff; }

    .snackbar {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.85);
      padding: 12px 18px;
      border-radius: 10px;
      font-size: 0.9em;
      color: white;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
    }
    .snackbar.show { opacity: 1; pointer-events: auto; }
  </style>
</head>
<body>
  <header>
    <button class="menu-btn" id="menuBtn"><i class="fas fa-bars"></i></button>
    <h1 class="logo">DEKHO AI</h1>
    <nav>
      <ul><li><a href="index.html">Home</a></li></ul>
    </nav>
  </header>

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <h2>Menu</h2>
    <ul>
      <li><a href="#"><i class="fas fa-clock"></i> History</a></li>
      <li><a href="#"><i class="fas fa-sliders-h"></i> Preferences</a></li>
      <li><a href="#"><i class="fas fa-cog"></i> Settings</a></li>
    </ul>
  </aside>

  <div class="container" id="mainContent">
    <div class="card">
      <h2>AI Image Generator</h2>
      <textarea id="promptInput" placeholder="Describe the image you want..."></textarea>
      <div class="controls">
        <select id="styleSelect">
          <option value="anime style">Anime</option>
          <option value="sketch drawing">Sketch</option>
          <option value="digital painting">Digital Art</option>
          <option value="cartoon style">Cartoon</option>
          <option value="photorealistic">Realistic</option>
          <option value="cyberpunk">Cyberpunk</option>
        </select>
        <select id="sizeSelect">
          <option value="512x512">512x512 (Default)</option>
          <option value="768x768">768x768</option>
          <option value="1024x1024">1024x1024</option>
          <option value="custom">Custom</option>
        </select>
        <input type="number" id="widthInput" placeholder="Width" style="display:none;" />
        <input type="number" id="heightInput" placeholder="Height" style="display:none;" />
        <input type="number" id="seedInput" placeholder="Seed (optional)" />
      </div>
      <button class="generate-btn" id="generateButton">
        <span id="buttonText">Generate</span>
        <div class="btn-loader hidden" id="buttonLoader"></div>
      </button>
      <div class="image-display" id="imageDisplay">
        <p id="placeholderText">Your generated image will appear here.</p>
      </div>
    </div>
  </div>

  <div id="snackbar"></div>

  <script>
    const menuBtn = document.getElementById("menuBtn");
    const sidebar = document.getElementById("sidebar");
    const mainContent = document.getElementById("mainContent");

    menuBtn.addEventListener("click", () => {
      sidebar.classList.toggle("active");
      mainContent.classList.toggle("shifted");
    });

    const generateButton = document.getElementById("generateButton");
    const buttonText = document.getElementById("buttonText");
    const loader = document.getElementById("buttonLoader");
    const imageDisplay = document.getElementById("imageDisplay");
    const generatedImage = document.createElement("img");
    const placeholderText = document.getElementById("placeholderText");
    const snackbar = document.getElementById("snackbar");
    const sizeSelect = document.getElementById("sizeSelect");
    const widthInput = document.getElementById("widthInput");
    const heightInput = document.getElementById("heightInput");

    let isGenerating = false;

    function showMessage(msg) {
      snackbar.innerText = msg;
      snackbar.classList.add("show");
      setTimeout(() => snackbar.classList.remove("show"), 3000);
    }

    sizeSelect.addEventListener("change", () => {
      if (sizeSelect.value === "custom") {
        widthInput.style.display = "block";
        heightInput.style.display = "block";
      } else {
        widthInput.style.display = "none";
        heightInput.style.display = "none";
      }
    });

    function buildPollinationsUrl(prompt) {
      const style = document.getElementById('styleSelect').value;
      let finalPrompt = style ? `${prompt}, ${style}` : prompt;

      let w = 512, h = 512;
      if (sizeSelect.value === "custom") {
        w = parseInt(widthInput.value, 10) || 512;
        h = parseInt(heightInput.value, 10) || 512;
      } else {
        [w, h] = sizeSelect.value.split("x").map(Number);
      }

      const seed = parseInt(document.getElementById('seedInput').value, 10);
      const safePrompt = encodeURIComponent(finalPrompt);

      let url = `https://image.pollinations.ai/prompt/${safePrompt}?w=${w}&h=${h}`;
      if (!Number.isNaN(seed)) url += `&seed=${seed}`;
      return url;
    }

    async function generateImage(prompt) {
      if (isGenerating) return;
      isGenerating = true;

      generateButton.disabled = true;
      buttonText.classList.add('hidden');
      loader.classList.remove('hidden');
      generatedImage.classList.add('hidden');
      placeholderText.classList.add('hidden');
      imageDisplay.innerHTML = `<div class="btn-loader" style="width:30px;height:30px;"></div>`;

      try {
        const apiUrl = buildPollinationsUrl(prompt);
        generatedImage.src = apiUrl;

        generatedImage.onload = () => {
          generatedImage.classList.remove('hidden');
          imageDisplay.innerHTML = '';
          imageDisplay.appendChild(generatedImage);

          const downloadBtn = document.createElement("button");
          downloadBtn.className = "download-btn";
          downloadBtn.innerText = "Download Image";
          downloadBtn.onclick = () => {
            const a = document.createElement("a");
            a.href = generatedImage.src;
            a.download = "dekho-ai.png";
            a.click();
          };
          imageDisplay.appendChild(downloadBtn);

          showMessage("✅ Image generated successfully!");
        };

        generatedImage.onerror = () => {
          showMessage("❌ Failed to load image.");
          placeholderText.classList.remove('hidden');
          imageDisplay.innerHTML = '';
          imageDisplay.appendChild(placeholderText);
        };

      } catch (error) {
        console.error("Error generating image:", error);
        showMessage(`Error: ${error.message}`);
        placeholderText.classList.remove('hidden');
        imageDisplay.innerHTML = '';
        imageDisplay.appendChild(placeholderText);
      } finally {
        isGenerating = false;
        generateButton.disabled = false;
        buttonText.classList.remove('hidden');
        loader.classList.add('hidden');
      }
    }

    generateButton.addEventListener("click", () => {
      const prompt = document.getElementById("promptInput").value.trim();
      if (!prompt) {
        showMessage("⚠️ Please enter a prompt!");
        return;
      }
      generateImage(prompt);
    });
  </script>
</body>
</html>


